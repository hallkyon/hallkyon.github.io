(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))i(s);new MutationObserver(s=>{for(const n of s)if(n.type==="childList")for(const o of n.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&i(o)}).observe(document,{childList:!0,subtree:!0});function e(s){const n={};return s.integrity&&(n.integrity=s.integrity),s.referrerPolicy&&(n.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?n.credentials="include":s.crossOrigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function i(s){if(s.ep)return;s.ep=!0;const n=e(s);fetch(s.href,n)}})();class y{_data;constructor(t,e){if(t<1||e<1)throw new Error(`Cannot create ${t}x${e} matrix`);this._data=Array.from({length:t},()=>new Array(e).fill(0))}getValue(t,e){if(Number.isInteger(t)===!1||Number.isInteger(e)===!1)throw new Error("Row or column must be an integer");if(t<0||e<0||t>this.numRows||e>this.numColumns)throw new Error(`Cannot access value at (${t},${e})`);return this._data[t][e]}setValue(t,e,i){if(Number.isInteger(t)===!1||Number.isInteger(e)===!1)throw new Error("Row or column must be an integer");if(t<0||e<0||t>this.numRows||e>this.numColumns)throw new Error(`Cannot set value at (${t},${e})`);this._data[t][e]=i}get numRows(){return this._data.length}get numColumns(){return this._data[0].length}toString(){return this._data.map(t=>t.join(" ")).join(`
`)}}class l extends y{constructor(t,e){if(super(2,1),isFinite(t)===!1||isFinite(e)===!1)throw new Error(`Vector constructor failed: Invalid arguments: ${t}, ${e}`);this.x=t,this.y=e}isZeroVector(){return this.x===0&&this.y===0}add(t){return this.x+=t.x,this.y+=t.y,this}sub(t){return this.x-=t.x,this.y-=t.y,this}scale(t){if(isFinite(t)===!1)throw new Error(`Vector scale failed: Invalid argument: ${t}`);return this.x*=t,this.y*=t,this}toUnitVector(){if(this.isZeroVector())throw new Error("Cannot convert a zero vector to a unit vector");const t=this.magnitude;return this.x=this.x/t,this.y=this.y/t,this}dotProduct(t){return this.x*t.x+this.y*t.y}projectOn(t){if(this.isZeroVector())throw new Error("Cannot project a zero vector");return t.scale(this.dotProduct(t)/this.dotProduct(this))}matrixMultiply(t){if(t.numRows!==2||t.numColumns!==2)throw new Error(`Matrix must be 2x2 for vector transformation, got ${t.numRows}x${t.numColumns}`);const e=this.x*t.getValue(0,0)+this.y*t.getValue(0,1),i=this.x*t.getValue(1,0)+this.y*t.getValue(1,1);return new l(e,i)}get magnitude(){return Math.sqrt(this.x*this.x+this.y*this.y)}get x(){return this.getValue(0,0)}set x(t){this.setValue(0,0,t)}get y(){return this.getValue(1,0)}set y(t){this.setValue(1,0,t)}}class a{_x;_y;constructor(t,e){if(isFinite(t)===!1||isFinite(e)===!1)throw new Error(`Point constructor failed: Invalid arguments: ${t}, ${e}`);this._x=t,this._y=e}copy(){return new a(this.x,this.y)}getPositionVector(){return new l(this.x,this.y)}getDirectedVector(t){const e=this.getPositionVector();return t.getPositionVector().sub(e)}getDistance(t){return this.getDirectedVector(t).magnitude}toString(){return`Point(${this.x},${this.y})`}get x(){return this._x}set x(t){this._x=t}get y(){return this._y}set y(t){this._y=t}}class v{_position=r.center;_maxLabelLength=200;_label;_fill="white";_svgRect;_svgText;_svgGroup;constructor(t,e,i){const s="http://www.w3.org/2000/svg";this._position=new a(t,e),this._svgText=document.createElementNS(s,"text"),this._svgText.setAttribute("x",String(this._position.x)),this._svgText.setAttribute("y",String(this._position.y)),this._svgText.setAttribute("dy","1em"),this._svgRect=document.createElementNS(s,"rect"),this._svgRect.setAttribute("x",String(this._position.x)),this._svgRect.setAttribute("y",String(this._position.y)),this._svgRect.setAttribute("fill",this._fill),this._svgGroup=document.createElementNS(s,"g"),this._svgGroup.appendChild(this._svgRect),this._svgGroup.appendChild(this._svgText),r.addDrawing(this._svgGroup),this.label=i}get svg(){return this._svgGroup}get x(){return this._position.x}set x(t){this._position.x=t,this._svgRect.setAttribute("x",String(t)),this._svgText.setAttribute("x",String(t)),this._svgText.querySelectorAll("tspan").forEach(i=>{i.setAttribute("x",String(t))})}get y(){return this._position.y}set y(t){this._position.y=t,this._svgRect.setAttribute("y",String(t)),this._svgText.setAttribute("y",String(t))}get label(){return this._label}set label(t){this._label=t;const e="http://www.w3.org/2000/svg",i=this._label.split(/\s+/);let s=[];for(;this._svgText.firstChild;)this._svgText.removeChild(this._svgText.firstChild);let n=document.createElementNS(e,"tspan");this._svgText.appendChild(n),i.forEach(d=>{s.push(d),n.textContent=s.join(" "),n.getComputedTextLength()>this._maxLabelLength&&(s.pop(),n.textContent=s.join(" "),s=[d],n=document.createElementNS(e,"tspan"),n.setAttribute("x",String(this.position.x)),n.setAttribute("dy","1.2em"),n.textContent=d,this._svgText.appendChild(n))});const o=20,h=this._svgText.getBBox();this.width=h.width+o,this.height=h.height+o,this._svgGroup.setAttribute("transform",`translate(${-this.width/2}, ${-this.height/2})`)}get top(){return this.y-this.height/2}get right(){return this.x+this.width/2}get bottom(){return this.y+this.height/2}get left(){return this.x-this.width/2}get topLeft(){return new a(this.left,this.top)}get topRight(){return new a(this.right,this.top)}get bottomRight(){return new a(this.right,this.bottom)}get bottomLeft(){return new a(this.left,this.bottom)}get width(){const t=this._svgRect.getAttribute("width");return t?parseFloat(t):0}set width(t){const e=this._svgText.getBBox();if(t<e.width)throw new Error(`Invalid width: ${t}`);this._svgRect.setAttribute("width",String(t));const i=(t-e.width)/2,s=(this.height-e.height)/2;this._svgText.setAttribute("transform",`translate(${i}, ${s})`)}get height(){const t=this._svgRect.getAttribute("height");return t?parseFloat(t):0}set height(t){const e=this._svgText.getBBox();if(t<e.height)throw new Error(`Invalid height: ${t}`);this._svgRect.setAttribute("height",String(t));const i=(this.width-e.width)/2,s=(t-e.height)/2;this._svgText.setAttribute("transform",`translate(${i}, ${s})`)}get position(){return this._position}set position(t){this.x=t.x,this.y=t.y}get fill(){return this._fill}set fill(t){this._fill=t,this._svgRect.setAttribute("fill",t)}get stroke(){return this._svgRect.getAttribute("stroke")??""}set stroke(t){this._svgRect.setAttribute("stroke",t)}toString(){return`DrawingRect(${this.x}, ${this.y}, ${this.width}, ${this.height})`}}class b{_pointA;_pointB;_svg;constructor(t,e){this._pointA=t,this._pointB=e,this._svg=this.makeSvgLine()}makeSvgLine(){const i=document.createElementNS("http://www.w3.org/2000/svg","line"),s="white";return i.setAttribute("x1",String(this._pointA.x)),i.setAttribute("y1",String(this._pointA.y)),i.setAttribute("x2",String(this._pointB.x)),i.setAttribute("y2",String(this._pointB.y)),i.setAttribute("stroke",s),i}get svg(){return this._svg}get pointA(){return this._pointA}set pointA(t){this._pointA=t,this._svg.setAttribute("x1",String(t.x)),this._svg.setAttribute("y1",String(t.y))}get pointB(){return this._pointB}set pointB(t){this._pointB=t,this._svg.setAttribute("x2",String(t.x)),this._svg.setAttribute("y2",String(t.y))}get stroke(){return this._svg.getAttribute("stroke")??""}set stroke(t){this._svg.setAttribute("stroke",t)}}class x{_adjacencyList;constructor(){this._adjacencyList=new Map}insertVertex(t){this._adjacencyList.has(t)===!1&&this._adjacencyList.set(t,[])}insertDirectedEdge(t,e){if(this._adjacencyList.has(t)===!1)throw new Error(`Vertex ${t} not found in graph.`);if(this._adjacencyList.has(e)===!1)throw new Error(`Vertex ${e} not found in graph.`);const i=this._adjacencyList.get(t);if(i===void 0)throw new Error(`Vertex ${t} not found in graph.`);i.push(e),this._adjacencyList.set(t,i)}insertUndirectedEdge(t,e){this.insertDirectedEdge(t,e),this.insertDirectedEdge(e,t)}getAdjacentVertices(t){if(this._adjacencyList.has(t)===!1)throw new Error(`Vertex ${t} not found in graph.`);const e=this._adjacencyList.get(t);return e===void 0?[]:e}getNonAdjacentVertices(t){const e=this.getAdjacentVertices(t);return this.vertices.filter(s=>e.includes(s)===!1&&s!==t)}get vertices(){return Array.from(this._adjacencyList.keys())}get edges(){const t=[];return this._adjacencyList.forEach((e,i)=>{const s=i;e.forEach(n=>{t.push([s,n])})}),t}}class c{static _edgeScalar=1.2;static _coolingFactor=.01;static _negiligibleDistance=300;static calculateAttractionScalar(t,e){return e*e/t}static calculateRepulsionScalar(t,e){return e>c._negiligibleDistance?0:-(t*t)/e}static calculateForce(t,e,i){if(t===e)return new l(0,0);try{const s=new y(2,2);s.setValue(0,0,(t.width+e.width)/2),s.setValue(1,1,(t.height+e.height)/2);const n=t.position.getDirectedVector(e.position).toUnitVector(),o=t.position.getDistance(e.position),h=n.matrixMultiply(s).scale(c._edgeScalar).magnitude;return n.scale(i(h,o))}catch{return new l(Math.random(),Math.random())}}static embed(t){return t.vertices.forEach(e=>{let i=new l(0,0);t.getAdjacentVertices(e).forEach(s=>{i=i.add(this.calculateForce(e,s,c.calculateAttractionScalar)),i=i.add(this.calculateForce(e,s,c.calculateRepulsionScalar))}),t.getNonAdjacentVertices(e).forEach(s=>{i=i.add(this.calculateForce(e,s,c.calculateRepulsionScalar))}),i.scale(c._coolingFactor),e.x+=i.x,e.y+=i.y}),t}}class r{static _drawingGraph;static _edgeMap=new Map;static _pointerDown=!1;static delta=new DOMPointReadOnly(0,0);static setViewBox(){const t=document.getElementById("svg");if(t===null)throw new Error('Canvas element with id "svg" not found');t.getAttribute("viewBox")||(t.setAttribute("viewBox",`0 0 ${r.width} ${r.height}`),t.addEventListener("pointerdown",r.onPointerDown),t.addEventListener("pointerup",r.onPointerUp),t.addEventListener("pointerleave",r.onPointerUp),t.addEventListener("pointermove",r.onPointerMove),t.addEventListener("wheel",r.onScroll))}static getSvgPoint(t){try{const e=document.getElementById("svg"),i=new DOMPointReadOnly(t.clientX,t.clientY);if(!(e instanceof SVGSVGElement))throw new Error("Canvas element is not an SVGSVGElement");return i.matrixTransform(e.getScreenCTM()?.inverse())}catch(e){throw new Error(`Error getting SVG point: ${e}`)}}static onPointerDown(t){r._pointerDown=!0,r.delta=r.getSvgPoint(t)}static onPointerUp(){r._pointerDown=!1}static onPointerMove(t){try{if(!r._pointerDown)return;t.preventDefault();const e=r.getSvgPoint(t),i=e.x-r.delta.x,s=e.y-r.delta.y;r.viewBox.x-=i,r.viewBox.y-=s}catch(e){console.error("Error handling pointer move event:",e)}}static onScroll(t){try{t.preventDefault();const e=r.getSvgPoint(t),i=1.05,s=t.deltaY<0?i:1/i;r.viewBox.x=e.x-(e.x-r.viewBox.x)*s,r.viewBox.y=e.y-(e.y-r.viewBox.y)*s,r.viewBox.width*=s,r.viewBox.height*=s}catch(e){console.error("Error handling scroll event:",e)}}static getEdgeDrawing(t,e){const i=r._edgeMap.get(t);if(i===void 0)throw new Error(`No edge map found for point ${t.toString()}`);const s=i.get(e);if(s===void 0)throw new Error(`No line found for edge from ${t.toString()} to ${e.toString()}`);return s}static drawEdge(t,e){try{const i=t.left*e.left-t.right*e.right,s=t.left+e.left-(t.right+e.right),n=i/s,o=t.top*e.top-t.bottom*e.bottom,h=t.top+e.top-(t.bottom+e.bottom),d=o/h,w=new a(n,d),m=r.getEdgeDrawing(t,e),u=w.copy(),p=w.copy();t.right<e.left?(u.x=t.right,p.x=e.left):t.left>e.right&&(u.x=t.left,p.x=e.right),t.top>e.bottom?(u.y=t.top,p.y=e.bottom):t.bottom<e.top&&(u.y=t.bottom,p.y=e.top),m.pointA=u,m.pointB=p}catch(i){console.error(`Error drawing edge from ${t.toString()} to ${e.toString()}:`,i)}}static animate(){r._drawingGraph=c.embed(r._drawingGraph),r._drawingGraph.edges.forEach(t=>{r.drawEdge(t[0],t[1])}),requestAnimationFrame(r.animate)}static addDrawing(t){const e=document.getElementById("svg");if(e===null)throw new Error('Canvas element with id "svg" not found');e.appendChild(t)}static removeDrawing(t){const e=document.getElementById("svg");if(e===null)throw new Error('Canvas element with id "svg" not found');e.removeChild(t)}static createDrawingRectGraph(t){const e=new x,i=new Map;return t.vertices.forEach(s=>{const n=new a(r.width*Math.random(),r.height*Math.random()),o=new v(n.x,n.y,s);o.fill="plum",e.insertVertex(o),i.set(s,o)}),t.edges.forEach(s=>{const n=i.get(s[0]),o=i.get(s[1]);if(n===void 0||o===void 0)throw new Error(`Edge ${s} contains undefined points`);e.insertDirectedEdge(n,o)}),e}static draw(t){r.setViewBox(),r._drawingGraph=r.createDrawingRectGraph(t),r._drawingGraph.edges.forEach(e=>{if(r._edgeMap.has(e[0]))return;const i=e[0],s=r._drawingGraph.getAdjacentVertices(i),n=new Map;s.forEach(o=>{const h=new b(i.position,o.position);h.stroke="black",r.addDrawing(h.svg),n.set(o,h)}),r._edgeMap.set(i,n)}),r.animate()}static get height(){return window.innerHeight}static get width(){return window.innerWidth}static get center(){return new a(r.width/2,r.height/2)}static get viewBox(){const t=document.getElementById("svg");if(t===null)throw new Error('Canvas element with id "svg" not found');if(t instanceof SVGSVGElement)return t.viewBox.baseVal;throw new Error("Canvas element is not an SVGSVGElement")}}const E=["...trotzdem Ja zum Leben sagen: Ein Psychologe erlebt das Konzentrationslager","How to Take Smart Notes","Building a Second Brain","The Lean Startup","Sofies Welt","How do you live?","Atomic Habits: An Easy & Proven Way to Build Good Habits & Break Bad Ones","Open Circuits: The inner Beauty of Electronic Components","Das Wandelnde Schloss","A Philosophy of Software Design","Embedded Linux mit Raspberry Pi und Co.","Algorithms to Live By: The Computer Science of Human Decisions","Pride and Prejudice","Sense and Sensibility","Stoner","The Three Body Problem","The Dark Forest","Death's End","The Fault in our Stars","Only Human","Walking Gods","Sleeping Giants"];class f{static randomGraph(t){const e=new x;return t.forEach(i=>{e.insertVertex(i)}),e.vertices.forEach(i=>{e.vertices.forEach(s=>{i!==s&&Math.random()>.98&&e.insertUndirectedEdge(i,s)})}),e}static getGraph(){return f.randomGraph(E)}}function _(){const g=f.getGraph();r.draw(g)}_();
